(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LVab:function(t,e,r){"use strict";r.r(e);var o=r("ofXK"),n=r("tyNb"),i=r("fXoL");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["rg-report-shell"]],decls:2,vars:0,consts:[[2,"margin-top","20px"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Qb(1,"router-outlet"),i.Ub())},directives:[n.g],encapsulation:2,changeDetection:0}),t})();var c=r("RLuz"),a=r("itXk"),p=r("lJxs");class l{constructor(t,e,r){this.id=t,this.caption=e,this.weight=r}}class d{constructor(){this.items=[]}}var u=r("kt0X");function f(t,e){if(1&t&&(i.Vb(0,"div",4),i.Vb(1,"a",5),i.Fc(2),i.Ub(),i.Vb(3,"a"),i.Fc(4),i.Ub(),i.Ub()),2&t){const t=e.$implicit;i.Cb(2),i.Gc(t.caption),i.Cb(2),i.Gc(t.weight)}}function h(t,e){if(1&t&&(i.Vb(0,"div"),i.Vb(1,"h3"),i.Fc(2),i.Ub(),i.Vb(3,"div",2),i.Dc(4,f,5,2,"div",3),i.Ub(),i.Ub()),2&t){const t=e.$implicit;i.Cb(2),i.Hc("",t.caption,":"),i.Cb(2),i.oc("ngForOf",t.items)}}let b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["rg-report-ingredients-list"]],inputs:{reportDays:"reportDays"},decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"report"],["class","report-item-row row d-flex w-50",4,"ngFor","ngForOf"],[1,"report-item-row","row","d-flex","w-50"],[1,"flex-grow-1"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Dc(1,h,5,2,"div",1),i.Ub()),2&t&&(i.Cb(1),i.oc("ngForOf",e.reportDays))},directives:[o.k],styles:[".report[_ngcontent-%COMP%]   .report-item-row[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3}"]}),t})();const m=[{path:"",component:s,children:[{path:"",pathMatch:"full",redirectTo:"summary"},{path:"summary",component:(()=>{class t{constructor(t){this.store=t,this.reportDays$=Object(a.a)([this.store.select(c.c),this.store.select(c.d),this.store.select(c.e)]).pipe(Object(p.a)(([t,e,r])=>{var o;const n=[];if(!t||0===(null===(o=t)||void 0===o?void 0:o.length))return n;t.forEach(t=>{const o=this.getDayReport(t,e,r);n.push(o)});const i=this.getReportTotal(n);return n.push(i),n}))}ngOnInit(){}getReportTotal(t){const e=new d;return e.caption="Total",t.forEach(t=>{t.items.forEach(t=>{let r=e.items.find(e=>e.id===t.id);r||(r=new l(t.id,t.caption,0),e.items.push(r)),r.weight+=t.weight})}),e}getDayReport(t,e,r){var o;const n=new d;return(null===(o=t)||void 0===o?void 0:o.meals)?(n.caption=t.caption,t.meals.forEach(t=>{var o;(null===(o=t)||void 0===o?void 0:o.mealItems)&&t.mealItems.forEach(t=>{var o;const i=e.find(e=>e.id===t.dishId);(null===(o=i)||void 0===o?void 0:o.items)&&i.items.forEach(e=>{const o=r.find(t=>t.id===e.ingredientId);let i=n.items.find(t=>t.id===o.id);i||(i=new l(o.id,o.caption,0),n.items.push(i)),i.weight+=e.weight*t.weight})})}),n):n}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(u.h))},t.\u0275cmp=i.Jb({type:t,selectors:[["rg-report-provider"]],decls:2,vars:3,consts:[[3,"reportDays"]],template:function(t,e){1&t&&(i.Qb(0,"rg-report-ingredients-list",0),i.kc(1,"async")),2&t&&i.oc("reportDays",i.lc(1,1,e.reportDays$))},directives:[b],pipes:[o.b],encapsulation:2,changeDetection:0}),t})()}]}];let g=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[n.f.forChild(m)],n.f]}),t})();r.d(e,"ReportModule",(function(){return w}));let w=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[o.c,g]]}),t})()}}]);