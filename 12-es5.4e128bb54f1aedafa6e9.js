function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LVab:function(t,e,n){"use strict";n.r(e);var r,i=n("ofXK"),o=n("tyNb"),c=n("fXoL"),a=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=c.Jb({type:r,selectors:[["rg-report-shell"]],decls:2,vars:0,consts:[[2,"margin-top","20px"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Qb(1,"router-outlet"),c.Ub())},directives:[o.g],encapsulation:2,changeDetection:0}),r),s=n("RLuz"),l=n("itXk"),u=n("lJxs"),f=function t(e,n,r){_classCallCheck(this,t),this.id=e,this.caption=n,this.weight=r},p=function t(){_classCallCheck(this,t),this.items=[]},d=n("kt0X");function h(t,e){if(1&t&&(c.Vb(0,"div",4),c.Vb(1,"a",5),c.Fc(2),c.Ub(),c.Vb(3,"a"),c.Fc(4),c.Ub(),c.Ub()),2&t){var n=e.$implicit;c.Cb(2),c.Gc(n.caption),c.Cb(2),c.Gc(n.weight)}}function b(t,e){if(1&t&&(c.Vb(0,"div"),c.Vb(1,"h3"),c.Fc(2),c.Ub(),c.Vb(3,"div",2),c.Dc(4,h,5,2,"div",3),c.Ub(),c.Ub()),2&t){var n=e.$implicit;c.Cb(2),c.Hc("",n.caption,":"),c.Cb(2),c.oc("ngForOf",n.items)}}var v,m,y,g=((v=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||v)},v.\u0275cmp=c.Jb({type:v,selectors:[["rg-report-ingredients-list"]],inputs:{reportDays:"reportDays"},decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"report"],["class","report-item-row row d-flex w-50",4,"ngFor","ngForOf"],[1,"report-item-row","row","d-flex","w-50"],[1,"flex-grow-1"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Dc(1,b,5,2,"div",1),c.Ub()),2&t&&(c.Cb(1),c.oc("ngForOf",e.reportDays))},directives:[i.k],styles:[".report[_ngcontent-%COMP%]   .report-item-row[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3}"]}),v),w=[{path:"",component:a,children:[{path:"",pathMatch:"full",redirectTo:"summary"},{path:"summary",component:(m=function(){function t(e){var n=this;_classCallCheck(this,t),this.store=e,this.reportDays$=Object(l.a)([this.store.select(s.c),this.store.select(s.d),this.store.select(s.e)]).pipe(Object(u.a)((function(t){var e,r=_slicedToArray(t,3),i=r[0],o=r[1],c=r[2],a=[];if(!i||0===(null===(e=i)||void 0===e?void 0:e.length))return a;i.forEach((function(t){var e=n.getDayReport(t,o,c);a.push(e)}));var s=n.getReportTotal(a);return a.push(s),a})))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getReportTotal",value:function(t){var e=new p;return e.caption="Total",t.forEach((function(t){t.items.forEach((function(t){var n=e.items.find((function(e){return e.id===t.id}));n||(n=new f(t.id,t.caption,0),e.items.push(n)),n.weight+=t.weight}))})),e}},{key:"getDayReport",value:function(t,e,n){var r,i=new p;return(null===(r=t)||void 0===r?void 0:r.meals)?(i.caption=t.caption,t.meals.forEach((function(t){var r;(null===(r=t)||void 0===r?void 0:r.mealItems)&&t.mealItems.forEach((function(t){var r,o=e.find((function(e){return e.id===t.dishId}));(null===(r=o)||void 0===r?void 0:r.items)&&o.items.forEach((function(e){var r=n.find((function(t){return t.id===e.ingredientId})),o=i.items.find((function(t){return t.id===r.id}));o||(o=new f(r.id,r.caption,0),i.items.push(o)),o.weight+=e.weight*t.weight}))}))})),i):i}}]),t}(),m.\u0275fac=function(t){return new(t||m)(c.Pb(d.h))},m.\u0275cmp=c.Jb({type:m,selectors:[["rg-report-provider"]],decls:2,vars:3,consts:[[3,"reportDays"]],template:function(t,e){1&t&&(c.Qb(0,"rg-report-ingredients-list",0),c.kc(1,"async")),2&t&&c.oc("reportDays",c.lc(1,1,e.reportDays$))},directives:[g],pipes:[i.b],encapsulation:2,changeDetection:0}),m)}]}],C=((y=function t(){_classCallCheck(this,t)}).\u0275mod=c.Nb({type:y}),y.\u0275inj=c.Mb({factory:function(t){return new(t||y)},imports:[[o.f.forChild(w)],o.f]}),y);n.d(e,"ReportModule",(function(){return k}));var _,k=((_=function t(){_classCallCheck(this,t)}).\u0275mod=c.Nb({type:_}),_.\u0275inj=c.Mb({factory:function(t){return new(t||_)},imports:[[i.c,C]]}),_)}}]);