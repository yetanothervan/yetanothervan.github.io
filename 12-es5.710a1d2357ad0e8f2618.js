function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LVab:function(t,e,n){"use strict";n.r(e);var r,i=n("ofXK"),o=n("tyNb"),a=n("fXoL"),c=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=a.Jb({type:r,selectors:[["rg-report-shell"]],decls:2,vars:0,consts:[[2,"margin-top","20px"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Qb(1,"router-outlet"),a.Ub())},directives:[o.g],encapsulation:2,changeDetection:0}),r),s=n("RLuz"),l=n("itXk"),u=n("lJxs"),f=function t(e,n,r){_classCallCheck(this,t),this.id=e,this.caption=n,this.weight=r},p=function t(){_classCallCheck(this,t),this.items=[]},h=n("kt0X"),d=n("FrCf");function b(t,e){if(1&t&&(a.Vb(0,"div",4),a.Vb(1,"a",5),a.Fc(2),a.Ub(),a.Vb(3,"a"),a.Fc(4),a.Ub(),a.Ub()),2&t){var n=e.$implicit;a.Cb(2),a.Gc(n.caption),a.Cb(2),a.Gc(n.weight)}}function m(t,e){if(1&t&&(a.Vb(0,"div"),a.Vb(1,"h3"),a.Fc(2),a.Ub(),a.Vb(3,"div",2),a.Dc(4,b,5,2,"div",3),a.Ub(),a.Ub()),2&t){var n=e.$implicit;a.Cb(2),a.Hc("",n.caption,":"),a.Cb(2),a.oc("ngForOf",n.items)}}var v,y,g,w=((v=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||v)},v.\u0275cmp=a.Jb({type:v,selectors:[["rg-report-ingredients-list"]],inputs:{reportDays:"reportDays"},decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"report"],["class","report-item-row row d-flex w-50",4,"ngFor","ngForOf"],[1,"report-item-row","row","d-flex","w-50"],[1,"flex-grow-1"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Dc(1,m,5,2,"div",1),a.Ub()),2&t&&(a.Cb(1),a.oc("ngForOf",e.reportDays))},directives:[i.k],styles:[".report[_ngcontent-%COMP%]   .report-item-row[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3}"]}),v),C=[{path:"",component:c,children:[{path:"",pathMatch:"full",redirectTo:"summary"},{path:"summary",component:(y=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.store=e,this.shared=n,this.reportDays$=Object(l.a)([this.store.select(s.c),this.store.select(s.d),this.store.select(s.e)]).pipe(Object(u.a)((function(t){var e,n=_slicedToArray(t,3),i=n[0],o=n[1],a=n[2],c=[];if(!i||0===(null===(e=i)||void 0===e?void 0:e.length))return c;i.forEach((function(t){var e=r.getDayReport(t,o,a);c.push(e)}));var s=r.getReportTotal(c);return c.push(s),c})))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"getReportTotal",value:function(t){var e=new p;return e.caption="Total",t.forEach((function(t){t.items.forEach((function(t){var n=e.items.find((function(e){return e.id===t.id}));n||(n=new f(t.id,t.caption,0),e.items.push(n)),n.weight+=t.weight}))})),e&&e.items&&this.shared.sortMatTable(e.items,"caption",!0),e}},{key:"getDayReport",value:function(t,e,n){var r,i=new p;return(null===(r=t)||void 0===r?void 0:r.meals)?(i.caption=t.caption,t.meals.forEach((function(t){var r;(null===(r=t)||void 0===r?void 0:r.mealItems)&&t.mealItems.forEach((function(t){var r,o=e.find((function(e){return e.id===t.dishId}));(null===(r=o)||void 0===r?void 0:r.items)&&o.items.forEach((function(e){var r=n.find((function(t){return t.id===e.ingredientId})),o=i.items.find((function(t){return t.id===r.id}));o||(o=new f(r.id,r.caption,0),i.items.push(o)),o.weight+=e.weight*t.weight}))}))})),i&&i.items&&this.shared.sortMatTable(i.items,"caption",!0),i):i}}]),t}(),y.\u0275fac=function(t){return new(t||y)(a.Pb(h.h),a.Pb(d.a))},y.\u0275cmp=a.Jb({type:y,selectors:[["rg-report-provider"]],decls:2,vars:3,consts:[[3,"reportDays"]],template:function(t,e){1&t&&(a.Qb(0,"rg-report-ingredients-list",0),a.kc(1,"async")),2&t&&a.oc("reportDays",a.lc(1,1,e.reportDays$))},directives:[w],pipes:[i.b],encapsulation:2,changeDetection:0}),y)}]}],_=((g=function t(){_classCallCheck(this,t)}).\u0275mod=a.Nb({type:g}),g.\u0275inj=a.Mb({factory:function(t){return new(t||g)},imports:[[o.f.forChild(C)],o.f]}),g);n.d(e,"ReportModule",(function(){return O}));var k,O=((k=function t(){_classCallCheck(this,t)}).\u0275mod=a.Nb({type:k}),k.\u0275inj=a.Mb({factory:function(t){return new(t||k)},imports:[[i.c,_]]}),k)}}]);